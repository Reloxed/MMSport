# Automatically generated on 2020-09-01 UTC from https://codemagic.io/app/5efb7ad95fc60700185d7f10/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  develop:
    name: develop
    max_build_duration: 60
    environment:
      flutter: stable
      xcode: latest
      cocoapods: default
    cache:
      cache_paths: []
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: develop
          include: true
          source: true
        - pattern: develop
          include: true
          source: false
    scripts:
      - |
     # set up release key.properties
     echo $CM_KEYSTORE | base64 --decode > /tmp/keystore.keystore
     cat >> "$FCI_BUILD_DIR/CourtCounter/key.properties" <<EOF
     storePassword=$CM_KEYSTORE_PASSWORD
     keyPassword=$CM_KEY_ALIAS_PASSWORD
     keyAlias=$CM_KEY_ALIAS_USERNAME
     storeFile=/tmp/keystore.keystore
     EOF
   - |
     # set up local properties
     echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/counter_flutter/.android/local.properties"
   - cd $FCI_BUILD_DIR/counter_flutter && flutter packages pub get
   - cd $FCI_BUILD_DIR/counter_flutter && flutter test
   - cd $FCI_BUILD_DIR/CourtCounter && ./gradlew assembleRelease
    artifacts:
      - mmsport/app/build/**/outputs/**/*.apk
      - mmsport/flutter_drive.log
    publishing:
      email:
        recipients:
          - antoniomma97@gmail.com
  release-ios:
    name: release iOS
    max_build_duration: 120
    environment:
      vars:
        APP_STORE_CONNECT_ISSUER_ID: 82739bf4-2a6d-4bc0-a8ee-c299d1c46a3f
        APP_STORE_CONNECT_KEY_IDENTIFIER: 9XYYTXD43Z
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZUcDB2MGpfTGtPQ2JyazNhQWdERjNpeUZEM2tnNlN0UmNpam03cDBMMS1MRjU0eXE0Rl9ISFYwdG5DbUJCTDBYYUR4WjRIUVdUWlhqQW5Dd3ByUVpRTEpRem9UcjVGdWMteDJCS2o5Z0lBT04xSU95YlI3b2pEeWlKSC1kaTVJOHlOR241bkt0Y2xvOXBKcGwtdERnQlItZUtBaG9remhWTTZwVWFEVERHSGxQWEtvU2YxT3QzWG1heFJkWUwtZDBicDVBM21PLTBDVFZHRFByZ0JEUG9obHZZSHVBaUVDRW5zMUVuakJfOUlhNUU0TFBhcUFmNjNTVDNGRE02NklxbTRlaTBXTnBmeW5jQV80TlRBc3BYOGo5WjBxZVdTMGE1UzVZbHh3OTcwbmhaZTJLUU1lMUVlTEM3eFdFdlZQWHNTQXpTNGlyTmNHVXFqME9MNTY4YXhBM2x4WG1STXZSNmZmQ3BaaHpRdzFZYVJCb2pyT1BNRGs1NEV5TUJaOHJ4ZF9ObVp4OXQ4R1V5WjlLdEpYVWltU2hDT3dwMmFBQnctN191WVduZHBUdkdaTT0=)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZUcDB3MjQxSDAtYVhKbnR4eGJtTUhVMUNTS1YyTHpZMzRTTHU5b0hiT2pHMksyRmd5S2ZWVWRDb2NHVUFoTnZKVmd5MGFBNUk1Q1VERTVxWm9nN196Q1dCWERpME04djR6ZDBEcGtpWmlSWXRzRVgxXzJvVDFVdkNLTTZUQmgySm1Sa1RQVTlxcFJOQkV4S0k2M29oTjRiZGRGUThteTVicW9yT0l3ZngxT1pCcDZtVWZyazRGbWxJVDJSS1B0ajM5cHo4alZBbzJVT1ZBa2RXN2xWYUV3QVA1TURPMFgxeFJFX1A1VVNCLVd3ekVpbnNkUXB2NVI4WUZBX3pZeEVTclBmSzdmQmttZlNSVXBNdjh0UjIwcmkwczRBV3pkak44Q3RUdkFPQWVVS3N0QkpqckRRV0xtNVNId0Z5R2YxeFVKUnFkNndWMTZyeVFsVTZfOHRLeFUyeWlrUjdudDU0RFhXV0xsWm9ONy0xUjlGVUNmd3RpQ1VMOHBRX3U1RDY2S1lCQVJRRElUNnJNbU1kdThpMTB2bU53R1VJblR4dTVpR0cxd2ZBUTFkRi1OQmpkMWt3YmRNRU9OYXlnVkRLaXFqeHcwZmwwOG5HbEhvbGsxdTc2bzMxYlF6ZFR3VElWSG1na2tlUlU3Vlg1dmt1VGJJbjBtdjB6bXU2YkYybzdJVVVvYldXNVRXdV93TWYwUmZUajhQWVU3UjVlVmNjWlE3LWR2MjQ3b29Tc2lORXNvb1huaTNJNlB4bDR1MEFfLUt0VzZZNkdRZUNfX20yMjkta3ltc19OOEJFNDdRVXlCcV9qbmEyMHVXd3pUVTNSa0p4NEs3UXdab25vM0ZtRU5CX1BidGNRMFpacU9Pb3NTTFFsV0ZnWXRNUHNZZkxTLXYwS1g5VkE0am9NYmVjdWtyeWVUck1qUkRBeFdsdUtxVGVaaDZmRFZjWGNfN2prX3dfRUpBb0ZTX3FvRGpuRklvQ0xRWG52Q2pFTlVyWHFGS0hPYU1WYzhIcnAzY3VjY1pVTlVMejVyWUlNdFlHbG5feWhfZVhhZzE2bkYwMkFhUlNKbGdWSHFLVl9YNlZYaVJSTkhxWDNGc2I3ZExldHlfQ3ZLckIxaTZ3cjNWb2x5aHJqbldLMGNKdEt3dXVRZjhXSjFacDNWbF9JRFQ4V29OWHRFb2NZb3VHUVRTS2JhNGhGeWRQVHFVRUt6V3ZCMVh6UE0tSlBfRzdHdmhZSEJBTmpKVDhrYTFJTkUtWGNFTV8tTWl3YjV2WGlkQ0pYTHluQVVfaGw5WEttc3FkSTlhWHhtdmpPTnlLeEkzUXBRRDhFcmJrdkVVdEtBYXZ2Q2QtTXctbGJVd0YzTlJOQmEwc0JXQjFaSm1XZk5hNFRwaWx2OHRiaVg5d2J3aGpBeEJuSmYzQ0JKWnNrVXQyYVN1Z3VYaUtocGxZUENuWWc2cGJoaUhTVkpQN2l6a3o0TWpIMVh2cWI1Y19QYUFkSUFEUmQ3TjNlM0g3a0dCelZLTGhGVUVUNGtJaGtXUzg4RHlaN2ZfclFBdHpHUUxMOU5TT19FQmhKV2JrM2FBYmNnaUVLT3BrRHN5c0tlWjVnYkNWdXkwaV9FMzQ2eGl4SEpRa0J6VGRkZFpFSHkwbVVRME9sWVZoSHVMcDVCNkZGR0luWG1vSERsNDk4SXkwemRSYVVsbm5EN1BDWTNWendwX1dIc2FhZV95NHhLTzhBY0t4OWI5dEg0MmJFVkhUZnlPZ0lPU2JFcmJxcDlnXzNzX3dIQy1ZTFNhOXhlSEZFUlhVVDhzTzgzWkJ1c0t6M3pBRFhLTzBubVdMMmlTN2dkYW9ma3RyV285NUdidXE0TEhhekM0VzFvQ1JhQ3pPVlpPQ0huU0VEMFhDSGZCU0VnSGdveDlacVJNa0NveV9fMTgzRTl6d0pzc0NNT1RRS0p1Y2J6aE91QVlkd1NxOXZ0eDVMM21tZEl0aGVjMEhDaloxaXpMYlkyMnNMUHJHZzFkdTdZTk9wb2JaUkJJd2lEMFZwRWxJYVBYSm9BMFdmaVJwb1IwaXB6cE5BenVxLU8zcmU0eGhiT2tCUXkyWTJhTmNxaHhyaXVVVFo1a2dwSVl0OFlTRllNdnVGYmU2cDJFanZNOUJZWmNNdmJIM0psaTRmYlcyZHdOLUI1d1hOdGxWeV9QY1FnT1NPNTRlcTd1QThfcWVNamdjX01hM3BHVnN6cEM5SmlYd2hwazlkTkUzckN0X09BVXo2TUY1YXRaTnFObk92dTJwS2ZaOThSTnF0N0cxZjNybFd0RDhtMlhyY19hSmpoUF96MkpnN1JuY2RSRGRKRnNIUjVzbEFFZEJMVzVXYU5UaHMxTVRtYXRwMVdYcDdNMlJCaC1fNm9yWkRpaXVOMzNXSGtoYlAwTTBXbTdwQVZaQnE1M3A1eldsaFRZMmhTWnNRUUpubFRIMVUyZHlRRFJXMG9PY1lnSDlZLVNJNThDeWE1bElFb3ZEZHJpeHNtYnRpTE9jUGZiNU9JMG9OWDBkUC1CeENPbDY4MmtDdnZyaUw5RXdpM2JmVFBDUUEzVlVuTE10YUdqdjdjYVE0NDJneXF6LUFMZVVRbTdmSFB4NmZSYnVIOFdoNEh2c2UyeXVOeXhUcmg0eVBPaTdPSzFJMTZSeGRzRC13YVNWMnh5dVFZY0lEMDByLTVDRnU2dGtBV1BxQ3U5dGNNei1DWWJCLVM2Q3BmNnNfVkNUVXZMSEtlQzVRT2NQTFRaMk41MzJuYjI5UXd3M1JILTQ1d1VMd1NXSlh3TkNPVUtkbHpfMVRhRGdFUDlFa1liZjBhU3RUai1vZEV3Vmt3bEFLZ3BNazBzOUtzZXVaOGs2cGN5S0JXY2NHdzBlbFVBakhYVFExNW95S3RsSUlQSklUbWdGcmdnalV1eG9JamRYM0h2ZkF3aGZxSmp6VkhRbkU3RjZOS0kzbEJfaVhpaTVqbmtNNmVCb21ZRlBJRGZhamJiUVlNd2hHbEdXSFhYck9UV2NfQUtSbWo2V2ZWU094ZXMySXUzdUVibzNabG1xeXBRTEg1VTNUdUV3)
      flutter: stable
      xcode: latest
      cocoapods: default
    cache:
      cache_paths: []
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: master
          include: true
          source: true
        - pattern: master
          include: true
          source: false
    scripts:
      - cd mmsport && flutter packages pub get
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "com.mmsport.mmsport" --type IOS_APP_STORE
        --create
      - keychain add-certificates
      - cd mmsport && flutter build ios --release --build-name=1.0.$BUILD_NUMBER --build-number=$(($BUILD_NUMBER
        + 100)) --no-codesign
      - xcode-project use-profiles
      - cd mmsport && xcode-project build-ipa --workspace "ios/Runner.xcworkspace"
        --scheme "Runner"
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - mmsport/flutter_drive.log
    publishing:
      email:
        recipients:
          - antoniomma97@gmail.com
      app_store_connect:
        apple_id: antoniomma97@gmail.com
        password: Encrypted(Z0FBQUFBQmZUcDB3a3RQdTdJQTc4YXNQSEVpbEJuV0ppTE9sMVJQVlZNYlFBa21vOHlDcXVUeXJldVJTRlAzS1R5SkxNeTJYT3FiSGtoU3Y2WUtYd2tCYjQyNHhoaFBNMjdVcS1xeVR4Y0kxLTNTcWpZWk9CZjg9)
  release-android:
    name: release Android
    max_build_duration: 120
    environment:
      vars:
        CM_KEY_ALIAS_USERNAME: Encrypted(Z0FBQUFBQmZUcDB3Q1gxOE9KOVNUNXRZRmxndHR3cHVsZ1F4ZXZ3VktNUmF1TDJPZWRNMnpXdXM5dnBNMENtTGJVeDVQT0pRTUh1ZTRsd1g1em9NZXFwU0Rvbk1hSVhsR1E9PQ==)
        CM_KEY_ALIAS_PASSWORD: Encrypted(Z0FBQUFBQmZUcDB3Y28xYmdVWElIdGRPNTdBTXZZcHBqOUZFc21fYnFlRDdlVkRBcU83YlZiNmplZW5mOTJYMm9jTFNFOWw0dVJrWE1HMU9vRDV3UmRuOE1rWTlLMjA5ZXc9PQ==)
        CM_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmZUcDB3bmxuQi1XRi1MYVVzc1A1cEdYbmxQWHREVExoWVc0anV4dWxyZE9tNVByNFVCSkp6VEMzM1JPUWltQVplZ2FFWXBTU25MUE5QY2N1SUdaQVdRMnM4WUE9PQ==)
        CM_KEYSTORE: Encrypted(Z0FBQUFBQmZUcDB3bTJrMXhsVXQ5Mjgxam9NR0Q4YUIwZUJ1RjBId2FITTNPZGxSNzZNOV9icllLUlN4aTZIMTJRa25BaFg2QkI0M1FXVFFIc2FEam1SWHlYNlI3NTY4VGJpTGxXV0xrQXJlZU5aUEplbnVGa1N4N0JRUnhkX29FUTFSeHZRSFB1aXVxNS1GRVFNMldENFZlbzhpZ0ZTamZfTm1HWEt3QlU1QTd1N2dBdy1mZUdZeEZkUFRWQ2ZrVXlLY2pGQ2dkSzBZenpvTkhOQzlrLUdqWEhhZlYyYnE1anA5eGhabjl2dURpbXBDSHpydjBnSVUwVHJSZFlQbVlZVWpWbWR1azg0MGxEUXZ5RFB2MEEtTGxyNG14VzVXdWpHZ2VaS0xBZzZiQVVwaHpsWHEwRHMwUTZCNGJ2Q0JKOHR0QXZsOF9nMFQxdnY3SFFRbnJITFZKWXhrb1A2YkNyMVNVNWRPNzNFQVhCaE9FVGd3cnF3elV3aURKV1hodl9sYXR3dDdTNHIyOVlKUGlLU3FBSHpMQ0xPQjF0Y2NqSWlzWDJrMkZpUlpxSnc5MTE2cDU1Ni02RFNhVllmMU85WnpqVllJMlhaazExb2daNzBWWm91R0F6NG15d3NybjVpWHQ1TFlTblNGdjMwYnhVTHNvdEJYMXU4RUIyYW1sN0JCZ29ZeGhycDJTb0J3dDJYZDcyOGtIM3BLNl96eTg4Nk90U1BzSElBZlhTSHY1bnkxU1JoWkNzd0ZtZTc3akNlWDdlOFBBaThKZmRrT1BNdEM3OTFHb2JXV25HeUFpa3Vfcnd4MjMxcXp2cC1TU1hHT0lSMDVfdW1QSWIzWlI4SXVfanNDbjJKQkFXbW9ETEQ3VzR3NFBNT1hBQmgtajl1NThTNEF6WU5GUFV2RG5xMk8xeGtkNUVEdEFxRGh4TjJZZk8zM0JXblVRY0FfcTdQenFBVzF6Q1A0eWNveTEwaGRHZGZNUllMQ1EwZXcwQVMydHU0TWtOWG1wWE11NWxiYUxXc1NqYUhLQVYwZEhTWXMxcTBNZ25OTldpLW9ZVlYxbzVwVGhDUllpWVYwemt1N0Y3eDJTNEJpaXJSVmlPWXhVNFN0R1BpQ3dVbEdsMFREaDQ4Q2ZlN0poY0xBODBvSzhsSFZEb1B2di1QbnJhaTZnQk9pNXQ4QXNWVnBHdzVLRFNfRVF3aUZjYlBtU2NmMi1tbk1sSWFQOUNQR25FZ2oyc0RVdURWSFYycXpKRzcwbS16WmwyeXNzMUFRMk9NRm5GZ2NmVkJkVmVsR2JOcXhPbjJtTjdVOUNIRjV6RVc1TENSTERPejJseTYwQ2JacEVxQWVOVE5GLXMydjBlVU5sdVhpaG1fNVBsa29fYVRBU1BPSGtjTmNLbE1NeDd2T05ySXlJY1FfRDE4NkhVeVBlWkdwTWM1YWZJS1lqMmItQldaamlQbTBHNzJacDNmNllwbzVVeEFGSmZKcTNkM3ZMREtPZTg1OWxraGp0VlZ6QXkxNm5VS3l6TFU4UTRjRzU4XzFDNWw2dTFpYWdkOU1USkpKdFB6WFFaYUVOQ0FjM0NSOWNNaGpyVnpGUEJRM0Q2dWtYbnRvTF9MUDAyQzFjWDQzaE1RWmZGcklrQS1ndU9pRGpYY2o5bEllMzFRVVlPRklLLVJ6MjdRNTZqM3hVM2ZzaHJkd3I4Z09RUDdMaml4N191NTBpVVJ2blhkbU5tQ1ZqYkRhR0JYX2dlc04xcURjM0xyLUlIQ2hTQlpuUFA1VXBqLVluNnBKWnJTRDVPb3EzUWZhSG1UNEdjM0ZHWDJYNjNTRnp6dDVESjhsTjNaekRqcW9PdmtiTUVDQ0pjQjRCdE01ZGdjUmExSFFvQzdSZnBsZHdDM2FxaF9FSGUtcjdaV0htYWZiVHFGOTNRS3gzdDZqZXdtRmI1c0J3dE5OUFNvTUpROUpRVzRUWTllVHJGaFJiZmxtUUN3RGdqM2dHT25IcnV2bEttOGQwTkJhZjVhZ1RiSUlTUGV1dEFfdmxIRjlRRFU0cXowVUY2eDg3cXVUbGYyOU13akE0eFY5RnBQTy1iTUY0ZzNjRlZSYnRhVVF5V09xU0xZUU5NclZ2VXNIbEUyZVE5MVZIV2hhT1QyV0MxNFUxS3ZHcVdxQ0dyMG0tejd0ekFlTFNEMXZ6aEV0a3BJM1pFNkUtV19FaFE2MW1QLTRpYnc0UXB4bnE3ZVpVZklrSlBSVG00NHhJVWFtN0Z0NDdCbXlyaU5xMFNsM2gyb2NyTEZPeVdHaWhvMUs4eVRCdmpPaXdLM0U3ajJ1ZkhFWjFOTWt2RnVsTTZyQ21nbUEyRlR5VUg3QjB6RU9fdVdaYk1kNzFXOG9uSUJqOEJuY0tXWUM3UFZhbks5NWRZZ1Z1Z2J3VG5jaDRaTkktZUc2RlRvN0J1ZlpydzdBSkJtNHp4N0haQ2ZFMnRTZGMzMTlOc1BkbTlfT180cGVIZDVYVUdRY0Z5LVR3OWZWOGRqWkZTOFNaMUdEWEM3QnJRWXJ0Nm5KVlVmcnJRRnotTElreHVDemtrR09zaThSRmNWY005ZlQyUlYtN1l2SUllR01GMUlfVlhRMG9XVjhCRHJZaU5rejVrOFlaR2R4T1VsRV9jSzhwY0pIRWVmMHJGUmJBMlFjSDFCdU1HVXczNjRIdS0teERSWGhqNlRyblZEMGJZRjd5ZTVDS1V5UkxpSVFlOVNvdmZFdk44ckFWYWM3MVVaYnNUNUh4UExPUWFKWlhRc2ptRzNpXy1GZzNXWFVLZ3l6WWdIOGpFM0ZxTEJuZi1SLU1aUURSNzJRN0dUdEV3Yl9uZE9tS3hzOEV5N1R0MTc5VXN3c0xlUEpmRXhENHo1d1BwWnl5Y1NfdF9lYUpTdm5fN3daNTl6QmVjTE1jMmNhejZLRjc5VUQ4ZXQyYzFHalp5WjRkbHluSWdCUy1vUjA2eUc2cG5YaHlGODhnWWxCdWpVOEQzTzBvVEQxcFl6bnVqZmVMN1NoSTZSWXplV1lvcDF1X2JOYUViNy1SQ3FlVGp2MlpIaVVGOWVYVFZQQ2l6eTc5MlIyMU1oVU04OVR5TEdXaXZLUlhieFNBT0F2UXk5TFM4MDlGYUl1a29WN1ZlTjFpNHdBcnBtWnNOdmxobk5rOFF4TU54WkNNTlQwSTFIVm1Ia05nME1EV1lTbHM5a19TY01KN2FGZlJyWUJXWUF4MS1xYkdlUFNKLXdYeUFMSF8zbi1Hd2tURG9XWlBlcGJKTkphOXkwekZHZ3hDdWRiekZlRkNYZ0xQaWt3VzROMm5RRnRTdWRVOE9BemhXVHhhUmFXV3hlZ2lhNDFGT3RiZ2NacVZTRTduNmVOUV9Qc3haaFdsY09pLUJYUjE4eGhMNmxaSjN2dXI5OXh2bktvWDdKWXQxWURmLXpmVjNKa2VOWjRMMVZnOFE5cDVlcm5vSXlQMHdwZUxlSzAyYnByVTJIaVp5N1pqeFJQVXBCblNkWC1GOGVJem5BZk54ejJLRnJyLUR6VjllNS13T1p0TEg5SXdoZldtUXA4al92MVc4NFZuU2NVZm9HNXN3bXpiUk85Mzh6T05SOHY5aGxMaVZTdGNQWnZrZzA3dzhnZEJJazhiV1VheTc1YU5YT2hmdGNCSk8tTE9tMklFaEl3SW5Gc0NtYUlfTUFMQ3VOVHh2ZnNuUlVLUFJGTXduNHowZGFyQV84WU1oM3NDVW9vVm5KLTNnMi0zZS1TY0U1aW1Gd3kwUEp0RllxSUdwRlZKNjJub2QzLURTZFc3VS1xVmotcmlKX3BuRVp4R2pDemdNWmQ5SHR5a1NkdHlwTGVaZHJSSWE1UFJJbjMwRnAtQWMya1BGWTl2V2tpaTFYejU0a0pIUXNxM0FMOGFOcklIUDRkUFRlMFowdzJkajVuMkxLaVpLQTFwR2U1dnJOUXEzWnpDM3V6ZW13aW1LeDlWRUU2NFRmVGM3dEZRVDN5YUpHbV9WbE9RT19HZzJaQUxNSjEyOXNVRmg1MEpxSFlmN2RvRllmRzZKbEZlc2dTSDFuTHBtV1d5QWFzT1RnaFZQb3RuNG9lR09SbGNyWFNXeGV5WDhrbkhfZUZVNk1DcHlTY1dDeDhicmViUUs2SFZDQU44bV9kYk1CODlYZGRiSjl1THoxSGx5RmlHTmdWWWJoR1QxbnNKbXRJUlkyR1FoMnpkRFQxSG9HaGdwQlBVcTN2TnNXMENtQzVwVHg2cWM2eXFFRlhHcE1Jc19wUE9uTVpWTjEyNmp5Q01fWjZ6WmlfVVQ2NGs4bjMwMmJ4MUpZLWxmSVc2Ump6dWRZOUNTdVJUdWlKbVJrMEFkbXdaTXRkQ25xMXJFU0pIQ0VPdUU1cHVVN1hPTHBCZjVGb3pIbFdZQm9CdlF6WUJTMDVXRWYwSXhtbkpqdnd3UGtsM2VVbmxWLVNUU2o5ZHlnOWdZdGUyNnVOalhwR3ZTQkZBUG14UDBocDl3Y1kyUHZ1SnVjOFJieTNKUGFtRzdmYnlfVzBZazFMVTg3cFBReFktcll3WW40MzA1clhJZ0xDbFpnTDBKeHNyRWEyenhfMVhWbnRXU0ZBVFlybW1PRVBNdDExVWtGdWdDY1phMGc4YW9fRzhXVTlybnNxM0phM3o3Vzhpc19LU2kzVW80ZGFsUXp2eUxSVEhLT3d2OEhFYlQyeTQxeWFGMzVBOUZUYXJCQWFldzBoMWd0SE5zeHUzdDN3OXFIZHhFVDB5aXJDMEpQZF96Nk1GSHlJM0tnVWNrSEs1WTRPdXJfNVpDUWRVbGFsZVlBYlBXX2R2XzNJdGdGMjQzWmUyMGozb01LM1l5cjVQNGtQRVkwU1hNOTF5VVBiUmEzZTRndFhvdkw2RmNVSm9PQWowR2NlS2VwWU92Z3FfbnNtUTlRbE16OXIzajhaWFVaelJ6Wmdid0xZako3b3FuS0RwMlczUzRna1JKdU4wNndEWnB6SkdIYVBpSHVUUGg2bktUT0xKRHJnNzdKUDhpYXNEM1hNSzBMTDdDYmNWNlRaVGk2X3VKUXdWcHVKdDZkUDVYMlBlLTVJVGpEdFpCN01vX2F4WXZKdjFjMFh2SWgxVDk1TTAycTZrUzd1NUdGeUl4MmxvcjB0OGJkRUQ4amZjRmZkUnVNTF9vaFhyZ2JpTXgzZEZYZm1IT0MtcmZtXy1vZ3hoQUZwQWpVa3BiWlVVRGliSzR0WkY0cE1zQV9sWGRLb1dXQ202eE80cS01YkpTQkR3UFBaSU5UejBOQUZmeVBmZ09pT1hSbGQ2TFVfbDVJMUJIVURWODZfYUw5cTJBU3lEMWoxTWJxeVJZQ3hGUktxTDRJLUhtYU5zUDNKd0N2V21HTjRKZE93THNVQlNWWDI5dXlIZUk5TzlxVlFGeU9aOXFNN2FJZUhQYkZxQXdqZkROMFh3dDhSVGVZVWRYZFlnajNIb2MxQQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    cache:
      cache_paths: []
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: master
          include: true
          source: true
        - pattern: master
          include: true
          source: false
    scripts:
      - |
        # set up key.properties
        echo $CM_KEYSTORE | base64 --decode > /tmp/keystore.keystore
        cat >> "$FCI_BUILD_DIR/mmsport/android/key.properties" <<EOF
        storePassword=$CM_KEYSTORE_PASSWORD
        keyPassword=$CM_KEY_ALIAS_PASSWORD
        keyAlias=$CM_KEY_ALIAS_USERNAME
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/mmsport/android/local.properties"
      - cd mmsport && flutter packages pub get
      - cd mmsport && flutter build appbundle --release --build-name=1.0.$BUILD_NUMBER
        --build-number=$(($BUILD_NUMBER + 100))
    artifacts:
      - mmsport/build/**/outputs/**/*.apk
      - mmsport/build/**/outputs/**/*.aab
      - mmsport/build/**/outputs/**/mapping.txt
      - mmsport/flutter_drive.log
    publishing:
      email:
        recipients:
          - antoniomma97@gmail.com
      google_play:
        credentials: Encrypted(Z0FBQUFBQmZUcDB3TVhfR0F6eGtRSXdGRTItMldxeVlBZ1RvRXVFOUNJeHVCSUhxWGY2Zk9ZSXFaZlVfX0RuY2xMUTVlNTJsMjE0alNiWF9lb2JMbkNfMmFkXzBkU1paSjZwZTF0RmQ0b0dVZUVUd0EtcWxKOHBBc3BiR2JtcWtZaTNkaDJVVEowdGpLN3lFYzBNeTFBREtaam9Oemx6Ny12NExtbGQzbkZsOWlJTGI2b0JhYTRmZi1Rc0M4Vmp2WS1aNTZOdFFiVU1fSHpSMV9RWTk3MGl1NTVzVTcwY2pOUUJ5eVlOay1LVE9MRWtOX3JtaVJVLUd3UTI0djdfdzdKSjBIYmtiUlBRQVg1VTM5TzNFME11STNWR1NxOE1QcFZPYVRvS2d4VlRwYUR6WFBTQXljN3JtQ0hySWpvRHVHRXZKRHJJQWxsODFVbFZxZ193bjdFcHBMbDJKUURPMjdPRk5iRlMzaE5CY1lvQWJQQTBaSGthRC1KMVhvaWNhb1VycGJuY1I4NzdkOXNxdFk4RmpqaVFnbUVUZ0t4aDFCTzZybU1Wazh5b2NnT19EbkpTSTdvTTNxWkl1M0FjQ0ZwTWNHUjRRRE9fbWpNcFdvN1JnT0R1VmdaXzZOLVREbDdETGdteDBpVm8tYWZLZlJUYVFBcGJ3dkl5WjZMeVBzWGc5TmhpWWJ3WU8zeEd6M2hvNTNpdjhGTW5OTGhUMmhHX3h0WTNGTEhMaE9kQXBQMGdHYTVWMndRWHVuSVNZNlV0Y2xsTkFqQ2F3TVJtQTZzQWdDVk5aMmxKakIwY2VQaXN3T0M2MFNDbDZvVUg4eFBTMUU2NEtkWHVhNVFIZC1NMWhkSW1uVkFaX1NpbVRyVGsxczlaZTVrb0pjTHMtRjhJQjBRZWQzZFpiWVhVZjB3UktCUXNmWUQtSkpQdlJLcThnaVZOOHRBZWdsc0NaTWhnTWRydlk3YXdFVlZhczVRSmUxdDQ3Mi12eWVDY3ZjdzJSQzJqSzRFSzMzeW5OQ3dDenN1MjJOMUdfellvTTU2TUFKaE44SUVNRmJvRmZCRDFXOXBENEJzRlJ1eDdkamk5Y21uZVBCdzg0bXh2YkZ6MDV5dXM3QUlUaVdNUi1RSTFMZTVELWJOSmEyX2Fpc3hFSmJyN2tNZng4d1IyVVFUdjc3SWJoTm1zYm9zOXl3S3JRa1hQSld0b0Y1RFVUSlFoQzluWUlJaFUzODlYb0F1QTh5XzUzNm1CVHNmNVZaZkpMM0FXVjVBcU9pZDlKdDNGY1Z2SElDcXhid29CMFFRdFlZQ3hUOGZSM18zY1FSeURsMkpSZnNGR0hnVGxHX3dmRWQyMC13a3J0alctQkJkcnlEaUlNb25HbEV6TmZSNDh2Nld0QmU0LU1kZm42Q25HUDkxRlYyTHhpWDJZYW1DZmg4RWpvNWtVbjBMQ09rZTdXMURmM0tuRFRfaGNWNEUyamNORl9BQXo3NVFtN1NRcERsWGR0VlR1LUpsOFhwRk8tLXdsWU1YY3BRTk0wSy1SUmxYWHRfWTYwNUg5aTFqWFFGZnpZYVNjNFhXaVRCLTQwMFlVcUNDenc4Y2pGUWxrRk1pdWM5WXdxTmR3WXEyeDJ4NzR3U1FfWWo1cTJkYnIwSE1YODV1aC1ZSFdvNi1MV0xyNkFBTVdSLUtlbWVHVkQtaGxxcURwMTJzUG5MUDVTMWlsTXdQUVhrWG90cHFmNU9QT0J4ZHcwTkczSkZCMjJCLUw2d3ktVGRuWDJYeDB5VE9DcGxDYXozXy0xSEtSeXlJU0NfbW1pVW1FR0pVQmF5TUtIRUFKOGNveUVUWFZfenhranJ6LWhDT2NVTkdQcjNiYl9QdHZaaHI2T3J1UUZQa2F4N3l1dWdBcnZ6WmkxVkM0cEpZek1oS3h4WmtlSGFGUEU0MjFSTmppNzdiQ2RTZVg3WUh0ZmlLOFphR2ptNEdSQmNjcTRlVExLdTBhTFNDclhTV0U0QlMyWDV6SjdVN0RobGFJamZ6YTJic0VfRUlDemhSY0VLZDRZdGppNGFSWnJ1c3FHVzBYWmtMQ216OENRY3YtTTlfRVd3X0NaQ2dKNGhUdEEta0tWbElRNm1iclJ2T3hwRVd6dHVtTFQwVkE0Y056OWFXMnRuY3gwRUFmX1BuM2VlYWlnWnlnSkljUjFtZU9kZWhIM0plVWt1dGY0MjFPSkkza3V6UlNyRm5sMzk1cXA1WDNYTUZyQ1R4VndSQ1libDNMMnlVcDZxUW9MVlBzZ2lESXU3UlNVVi1pY1c3MEd1ZVBLWU1YQ3R0X2Z3TGJXbzhaVjJPbFhTczZlTjVDVkVEN1hLQTA5TjF2S1ZvbVMyXzRUbF9FWW91UzY0Ym5sTVVra2ljLU5XNUsxSFFzTFdOY2ZxekdtMUNQLV94MkZib0gtSGRUVVZBamNpdUJCNGtvNFJzdHdDZS1UQ0hWV2phZjhmOU1HWEl4VEZsZm1SVzdyN2JQeGh0eUFseEg4ODVrMXJ5QVpRRmNsWVBDbE1lLV9aMjBhRlVIdzVaSGNOczZHazl2VXZyRTRPc1NBdEg1bWRRTFJ2V3E2TlNCOGY4dy1PZHZvS3lPYWRaZU45VENmWldzM3JmbU9fWmJGZmtOQkN6NE5XSFlSZUYxeno0cEo1SmlYNmcydzc5VlhQVFEzU1RpM09QaU5OeENyem5meWRfVjRhVE5seE8wX0lMQmg0OGtwVkNHaG4xOUZqbHJmUEdobHJHd1JvV05NX3NFTlRYeXlialpzT2xuMEhldV9ycHA0T3VxcVdsX2ZUVW1VRVZ3azFRNkpYM2dqMjNGT080bHB4OXY1X0RrYVVLVHFZRU1yWjJ3aVZlb1hKMnRjSVpsRkZtOEtxdE9uUG13SXFrUExOTS0ydjFaSDJyOVZRcWNnU3BEdGszbVkzd1dhdDFYNHJpdGQ5TDZ3aXpUUmlfalFMT212czlFNHFIYjVQYkR6Rm1oVVlRakgtSVFnYjlWRUdacFhEdFF0U1djOTJ0djgtVVk0em9FcG9ZNEtISm5IT05zUXFaUDdQUVNSRXJ0Y1BFMHB4eDBzcFpJNHBRQnJ0aU5MeWFETUFHaFZQa2JmS2xyQ0NtTlEybzRfeDZVUE1PZm55Q1ZEUHhacjJobThJaGdiU0ZQcWxHM01Dd1pDajl0NC1NMDNnMjBMd1ptei0tSGF4dG81cm5tRFU5QnlOZGlYajg1V0VRUW1IVWY1bFliTnBsempqQ1QzbFloQ1pJNVNNYWdGWW45SWgyV3gxX0dMSDlXalE5dk5TSk50YWNpWm1ISmhwU1Jrb0ZieEZnVUc5eGJkTGhsQ3JKc0M5N2Vuay13ak9SSjlNTURRdUEtSGxhNFFqV0VKQ254eHNkMS1rcjlST1JRaHZ2VzFXMGZyWElTTGowY09sLU8zMTBOc21uN1g1WDJpUFNYczE3V1ZMd0IxcUcyLWg4WEpHWmFqMFF0c1Fxb3lUSEFwS0Mxcm9VWWZyMF9GTk9hNHBZTzZyNFZoTU5PTGNvd1luTGpXU2J0SWFVUEt2U01kNHladUl1V1lpXzd4OF9STzFsZ2h2N0tMaVJhaEZHdFNidk1XTzBPZnNHbXJzRmI0TWlCVlJJMFZnclVRaXNmLXBHMEpUQU8xeTRUbzh2WGdFOG1zcXh2V0dFSzV6cUhmbjdwbXlRZ3oxdUlmdlowbVNZTzRQRkwxaF84S3dsbkNienVJektqTjRWT1RJT1U1TTg2eVpZYjF5R2hhakF2YThCMHR6bFJ4bkhOLUlPNzNUS203dlozOExKQkR5RlpWaGxNSW9ua2VURFhvZEY3dlFMYUc2SnBpSGJrZGdYU21VWm1nMVZTSzd5WUo0WG1wRnZMTEdqRDlVLXhKbWcyeDlHc2RCN3BEX1hiZlNXWW9rYko1NkVBN0oxRmFpQkJkVkZDZjBwbE1Ndm5aVm1ybjdQWEZuaTdsSFBRUU5NWWUyNDY0aWdHVEFrdWM1aFZoLUtkT0x5NTI5bTRDelp3OU1hT2pXb0FBcDg2STFtOU5obVRZRHA5V2FNOXFveE0xbDRDaXZENlAyaklmRkhBUnNZRGZJM1NWc1B0anhvTWU1TGo1cktIbUpod1V4cGZyd0FEV2RYWGp2U0l1SEdiYjRpZjE3UmFIdUZHOE5ySzdMT0NKSzNmZkNnYktvUUtXQ1FfQjNCTVhnNTBaa0U4b1VraWZfN2psNWMtNlNCeEJNUzRWTWswSS0xc19FYmhpSkhUUjAyN1pJaldXQTdIMUxoZzVPcG41N3JJWDVBPT0=)
        track: production
